<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Miguel Domínguez Jiménez">
<meta name="dcterms.date" content="2025-11-10">

<title>Elección de la mejor tablet para estudio y toma de apuntes en la universidad</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Trabajo 2_files/libs/clipboard/clipboard.min.js"></script>
<script src="Trabajo 2_files/libs/quarto-html/quarto.js"></script>
<script src="Trabajo 2_files/libs/quarto-html/popper.min.js"></script>
<script src="Trabajo 2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Trabajo 2_files/libs/quarto-html/anchor.min.js"></script>
<link href="Trabajo 2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Trabajo 2_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Trabajo 2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Trabajo 2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Trabajo 2_files/libs/bootstrap/bootstrap-1bc8a17f135ab3d594c857e9f48e611b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="Trabajo 2_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="Trabajo 2_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="Trabajo 2_files/libs/viz-1.8.2/viz.js"></script>

<link href="Trabajo 2_files/libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">

<script src="Trabajo 2_files/libs/grViz-binding-1.0.11/grViz.js"></script>

<script src="Trabajo 2_files/libs/kePrint-0.0.1/kePrint.js"></script>

<link href="Trabajo 2_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">


  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="Trabajo-2.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Elección de la mejor tablet para estudio y toma de apuntes en la universidad</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Miguel Domínguez Jiménez </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 10, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introducción-y-definición-del-problema" class="level2">
<h2 class="anchored" data-anchor-id="introducción-y-definición-del-problema">1. Introducción y Definición del Problema</h2>
<section id="motivación-del-problema-de-decisión" class="level3">
<h3 class="anchored" data-anchor-id="motivación-del-problema-de-decisión">1.1. Motivación del Problema de Decisión</h3>
<p>La transición a la universidad o el avance en los estudios superiores conlleva una digitalización creciente de los materiales académicos. La toma de apuntes, la organización de documentos PDF, la participación en clases virtuales y el acceso a bibliografía digital son tareas cotidianas. En este contexto, la tablet se ha posicionado como una herramienta clave, buscando un equilibrio entre la portabilidad de un <em>smartphone</em> y la potencia de un ordenador portátil.</p>
<p>Sin embargo, elegir la “mejor” tablet no es una decisión trivial. El mercado en 2025 ofrece una amplia gama de dispositivos con distintos sistemas operativos (iPadOS, Android, Windows), precios, tamaños y, fundamentalmente, distintas experiencias de escritura con lápiz óptico.</p>
<p>Este problema de decisión es inherentemente <strong>multicriterio</strong>. Un estudiante debe sopesar:</p>
<ul>
<li>¿Es más importante un <strong>coste</strong> bajo que la <strong>integración</strong> con el resto de mis dispositivos (ecosistema)?</li>
<li>¿Priorizo una <strong>batería</strong> que dure toda la jornada o la <strong>potencia</strong> bruta para aplicaciones exigentes?</li>
<li>¿Qué valor le doy a la <strong>calidad de la pantalla</strong> y la <strong>latencia del lápiz</strong> para una toma de apuntes fluida?</li>
</ul>
<p>El objetivo de este trabajo es aplicar las técnicas de Decisión Multicriterio (AHP, ELECTRE, PROMETHEE) para modelar este problema y encontrar la alternativa óptima, justificando la elección en base a un conjunto estructurado de criterios y preferencias.</p>
</section>
<section id="alternativas-a-seleccionadas" class="level3">
<h3 class="anchored" data-anchor-id="alternativas-a-seleccionadas">1.2. Alternativas (A) Seleccionadas</h3>
<p>Para acotar el problema, se han seleccionado cuatro (4) alternativas representativas del mercado actual (finales de 2025), cubriendo distintos ecosistemas y gamas de precio relevantes para un estudiante universitario:</p>
<ul>
<li><strong>A1: Apple iPad Air (M2, 11”)</strong>: La opción estándar-premium, conocida por su ecosistema de aplicaciones de estudio (Goodnotes, Notability) y la calidad de su lápiz (Apple Pencil).</li>
<li><strong>A2: Samsung Galaxy Tab S9 FE+ (12.4”)</strong>: La principal alternativa en Android. Destaca por incluir el lápiz (S Pen) en la caja, reduciendo el coste inicial, y su pantalla de gran tamaño.</li>
<li><strong>A3: Xiaomi Pad 6 (11”)</strong>: Representante de la gama media con excelente relación calidad-precio. Ofrece una alta tasa de refresco de pantalla y buen rendimiento, aunque su ecosistema de apps optimizadas es menor.</li>
<li><strong>A4: Microsoft Surface Go 4 (10.5”)</strong>: La alternativa con Windows 11 completo. Ofrece la máxima compatibilidad con software de escritorio (Office, RStudio, etc.), pero en un formato más compacto y con un lápiz que se vende por separado.</li>
</ul>
</section>
<section id="jerarquía-de-criterios-c" class="level3">
<h3 class="anchored" data-anchor-id="jerarquía-de-criterios-c">1.3. Jerarquía de Criterios (C)</h3>
<p>Para evaluar las alternativas, se establece una jerarquía de 4 criterios principales y 9 subcriterios, diseñada para cumplir con el requisito de <strong>“Varios Niveles Subcriterios”</strong>.</p>
<ul>
<li><strong>C1: Coste (Minimizar)</strong>: Factor decisivo para un presupuesto estudiantil.
<ul>
<li><em>C1.1: Precio Total (Min)</em>: Precio de la tablet (versión base con WiFi) más el lápiz óptico oficial, ya que es esencial para el objetivo.</li>
</ul></li>
<li><strong>C2: Experiencia de Apuntes (Maximizar)</strong>: Calidad percibida al usar el dispositivo para su función principal.
<ul>
<li><em>C2.1: Calidad del Lápiz (Max)</em>: Factor cualitativo que incluye latencia, ergonomía, sensibilidad a la presión y textura en pantalla.</li>
<li><em>C2.2: Calidad de Pantalla (Max)</em>: Tasa de refresco (Hz) y tecnología (OLED/LCD). Una tasa alta reduce la fatiga visual y mejora la fluidez de la escritura.</li>
<li><em>C2.3: Software/Apps (Max)</em>: Disponibilidad y madurez de aplicaciones optimizadas para la toma de apuntes.</li>
</ul></li>
<li><strong>C3: Ecosistema y Rendimiento (Maximizar)</strong>: Capacidad del dispositivo para integrarse en la vida digital del estudiante y manejar tareas.
<ul>
<li><em>C3.1: Sistema Operativo (SO) (Max)</em>: Factor cualitativo que evalúa la facilidad de uso, multitarea e integración con otros dispositivos (móvil, portátil).</li>
<li><em>C3.2: Duración de Batería (Max)</em>: Autonomía estimada en horas de uso mixto (navegación, vídeo, apuntes).</li>
</ul></li>
<li><strong>C4: Portabilidad (Maximizar/Minimizar)</strong>: Facilidad para transportar el dispositivo durante todo el día en el campus.
<ul>
<li><em>C4.1: Peso Total (Min)</em>: Peso en gramos de la tablet más el lápiz.</li>
<li><em>C4.2: Tamaño de Pantalla (Óptimo)</em>: Se busca un balance. Medido en pulgadas.</li>
</ul></li>
</ul>
<hr>
</section>
</section>
<section id="método-ahp-analytic-hierarchy-process" class="level2">
<h2 class="anchored" data-anchor-id="método-ahp-analytic-hierarchy-process">2. Método AHP (Analytic Hierarchy Process)</h2>
<p>[cite_start]Para el método AHP, se utiliza el paquete <code>ahp</code> de R. Este método requiere la definición de la jerarquía y la comparación por pares de todos los elementos en cada nivel, lo cual se ha definido en el fichero <strong><code>tablets.ahp</code></strong> .</p>
<section id="cálculo-del-modelo-ahp-con-librería" class="level3">
<h3 class="anchored" data-anchor-id="cálculo-del-modelo-ahp-con-librería">2.1. Cálculo del Modelo AHP (con librería)</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar librerías </span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ahp)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Adjuntando el paquete: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar y Calcular AHP</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Cargar el modelo desde el fichero</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># (Asegúrate de que 'tablets.ahp' está en la misma carpeta)</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> ahp<span class="sc">::</span><span class="fu">Load</span>(<span class="st">"tablets.ahp"</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Calcular las prioridades</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>ahp<span class="sc">::</span><span class="fu">Calculate</span>(model)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Analizar los resultados</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>results_table <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(ahp<span class="sc">::</span><span class="fu">AnalyzeTable</span>(model))</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>results_priority <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(ahp<span class="sc">::</span><span class="fu">AnalyzeTable</span>(model, <span class="at">variable =</span> <span class="st">"priority"</span>, <span class="at">sort =</span> <span class="st">"orig"</span>))</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(results_table) <span class="ot">&lt;-</span> results_table[, <span class="dv">1</span>]</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(results_priority) <span class="ot">&lt;-</span> results_priority[, <span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="diagrama-de-jerarquía" class="level4">
<h4 class="anchored" data-anchor-id="diagrama-de-jerarquía">2.1.1. Diagrama de jerarquía</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar Diagrama </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Visualize</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item" id="htmlwidget-86a393f47bf3349e4036" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-86a393f47bf3349e4036">{"x":{"diagram":"digraph {\n\ngraph [rankdir = \"TB\"]\n\n\n\n  \"1\" [label = \"Mejor Tablet Universitaria\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"2\" [label = \"C1.1_Precio\", tooltip = \"priority: 54.6%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"3\" [label = \"C2_ExpApuntes\", tooltip = \"priority: 23.2%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"4\" [label = \"C2.1_Lapiz\", tooltip = \"priority: 54.0%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"5\" [label = \"C2.2_Pantalla\", tooltip = \"priority: 16.3%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"6\" [label = \"C2.3_Software\", tooltip = \"priority: 29.7%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"7\" [label = \"C3_Ecosistema\", tooltip = \"priority: 13.8%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"8\" [label = \"C3.1_SO\", tooltip = \"priority: 50.0%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"9\" [label = \"C3.2_Bateria\", tooltip = \"priority: 50.0%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"10\" [label = \"C4_Portabilidad\", tooltip = \"priority: 8.4%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"11\" [label = \"C4.1_Peso\", tooltip = \"priority: 75.0%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"12\" [label = \"C4.2_Tamano\", tooltip = \"priority: 25.0%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"13\" [label = \"Alternatives\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"14\" [label = \"A1_iPad\", tooltip = \"priority: 10.2%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"15\" [label = \"A2_Samsung\", tooltip = \"priority: 20.3%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"16\" [label = \"A3_Xiaomi\", tooltip = \"priority: 60.6%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"17\" [label = \"A4_Surface\", tooltip = \"priority: 8.9%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n\"1\"->\"2\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"3\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"7\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"10\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"3\"->\"4\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"3\"->\"5\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"3\"->\"6\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"7\"->\"8\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"7\"->\"9\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"10\"->\"11\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"10\"->\"12\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"2\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"4\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"5\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"6\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"8\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"9\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"11\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"12\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"13\"->\"14\" [penwidth = \"2\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"13\"->\"15\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"13\"->\"16\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"13\"->\"17\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="resultados-y-análisis-ahp" class="level4">
<h4 class="anchored" data-anchor-id="resultados-y-análisis-ahp">2.1.2. Resultados y Análisis AHP</h4>
<p>Las tablas generadas por el paquete ahp nos permiten analizar el ranking final, los pesos de cada criterio y, fundamentalmente, la consistencia de nuestros juicios.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar Tablas de Resultados</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Adjuntando el paquete: 'kableExtra'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    group_rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Tabla de Análisis (Resultados Finales AHP)</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(results_table, <span class="at">digits =</span> <span class="dv">3</span>, <span class="at">caption =</span> <span class="st">"Resultados Finales AHP: Contribución Total"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> F, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Resultados Finales AHP: Contribución Total</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weight</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">A3_Xiaomi</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">A1_iPad</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">A2_Samsung</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">A4_Surface</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Inconsistency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Mejor Tablet Universitaria</td>
<td style="text-align: left;">Mejor Tablet Universitaria</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">0.425</td>
<td style="text-align: right;">0.235</td>
<td style="text-align: right;">0.221</td>
<td style="text-align: right;">0.119</td>
<td style="text-align: right;">0.019</td>
</tr>
<tr class="even">
<td style="text-align: left;">C1.1_Precio</td>
<td style="text-align: left;">C1.1_Precio</td>
<td style="text-align: right;">0.546</td>
<td style="text-align: right;">0.331</td>
<td style="text-align: right;">0.056</td>
<td style="text-align: right;">0.111</td>
<td style="text-align: right;">0.048</td>
<td style="text-align: right;">0.021</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C2_ExpApuntes</td>
<td style="text-align: left;">C2_ExpApuntes</td>
<td style="text-align: right;">0.232</td>
<td style="text-align: right;">0.048</td>
<td style="text-align: right;">0.098</td>
<td style="text-align: right;">0.056</td>
<td style="text-align: right;">0.030</td>
<td style="text-align: right;">0.009</td>
</tr>
<tr class="even">
<td style="text-align: left;">C2.1_Lapiz</td>
<td style="text-align: left;">C2.1_Lapiz</td>
<td style="text-align: right;">0.125</td>
<td style="text-align: right;">0.018</td>
<td style="text-align: right;">0.057</td>
<td style="text-align: right;">0.033</td>
<td style="text-align: right;">0.018</td>
<td style="text-align: right;">0.004</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C2.3_Software</td>
<td style="text-align: left;">C2.3_Software</td>
<td style="text-align: right;">0.069</td>
<td style="text-align: right;">0.006</td>
<td style="text-align: right;">0.038</td>
<td style="text-align: right;">0.016</td>
<td style="text-align: right;">0.010</td>
<td style="text-align: right;">0.019</td>
</tr>
<tr class="even">
<td style="text-align: left;">C2.2_Pantalla</td>
<td style="text-align: left;">C2.2_Pantalla</td>
<td style="text-align: right;">0.038</td>
<td style="text-align: right;">0.025</td>
<td style="text-align: right;">0.003</td>
<td style="text-align: right;">0.007</td>
<td style="text-align: right;">0.003</td>
<td style="text-align: right;">0.028</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C3_Ecosistema</td>
<td style="text-align: left;">C3_Ecosistema</td>
<td style="text-align: right;">0.138</td>
<td style="text-align: right;">0.019</td>
<td style="text-align: right;">0.043</td>
<td style="text-align: right;">0.045</td>
<td style="text-align: right;">0.031</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">C3.1_SO</td>
<td style="text-align: left;">C3.1_SO</td>
<td style="text-align: right;">0.069</td>
<td style="text-align: right;">0.008</td>
<td style="text-align: right;">0.024</td>
<td style="text-align: right;">0.013</td>
<td style="text-align: right;">0.024</td>
<td style="text-align: right;">0.004</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C3.2_Bateria</td>
<td style="text-align: left;">C3.2_Bateria</td>
<td style="text-align: right;">0.069</td>
<td style="text-align: right;">0.011</td>
<td style="text-align: right;">0.019</td>
<td style="text-align: right;">0.032</td>
<td style="text-align: right;">0.007</td>
<td style="text-align: right;">0.012</td>
</tr>
<tr class="even">
<td style="text-align: left;">C4_Portabilidad</td>
<td style="text-align: left;">C4_Portabilidad</td>
<td style="text-align: right;">0.084</td>
<td style="text-align: right;">0.027</td>
<td style="text-align: right;">0.038</td>
<td style="text-align: right;">0.009</td>
<td style="text-align: right;">0.010</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C4.1_Peso</td>
<td style="text-align: left;">C4.1_Peso</td>
<td style="text-align: right;">0.063</td>
<td style="text-align: right;">0.019</td>
<td style="text-align: right;">0.031</td>
<td style="text-align: right;">0.007</td>
<td style="text-align: right;">0.006</td>
<td style="text-align: right;">0.012</td>
</tr>
<tr class="even">
<td style="text-align: left;">C4.2_Tamano</td>
<td style="text-align: left;">C4.2_Tamano</td>
<td style="text-align: right;">0.021</td>
<td style="text-align: right;">0.007</td>
<td style="text-align: right;">0.007</td>
<td style="text-align: right;">0.002</td>
<td style="text-align: right;">0.004</td>
<td style="text-align: right;">0.004</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Tabla de Prioridades (Alternativas por Criterio)</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(results_priority, <span class="at">digits =</span> <span class="dv">3</span>, <span class="at">caption =</span> <span class="st">"Prioridades Locales por Subcriterio"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> F, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Prioridades Locales por Subcriterio</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Priority</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">A1_iPad</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">A2_Samsung</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">A3_Xiaomi</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">A4_Surface</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Inconsistency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Mejor Tablet Universitaria</td>
<td style="text-align: left;">Mejor Tablet Universitaria</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0.019</td>
</tr>
<tr class="even">
<td style="text-align: left;">C1.1_Precio</td>
<td style="text-align: left;">C1.1_Precio</td>
<td style="text-align: right;">0.546</td>
<td style="text-align: right;">0.102</td>
<td style="text-align: right;">0.203</td>
<td style="text-align: right;">0.606</td>
<td style="text-align: right;">0.089</td>
<td style="text-align: right;">0.021</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C2_ExpApuntes</td>
<td style="text-align: left;">C2_ExpApuntes</td>
<td style="text-align: right;">0.232</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0.009</td>
</tr>
<tr class="even">
<td style="text-align: left;">C2.1_Lapiz</td>
<td style="text-align: left;">C2.1_Lapiz</td>
<td style="text-align: right;">0.540</td>
<td style="text-align: right;">0.455</td>
<td style="text-align: right;">0.263</td>
<td style="text-align: right;">0.141</td>
<td style="text-align: right;">0.141</td>
<td style="text-align: right;">0.004</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C2.2_Pantalla</td>
<td style="text-align: left;">C2.2_Pantalla</td>
<td style="text-align: right;">0.163</td>
<td style="text-align: right;">0.076</td>
<td style="text-align: right;">0.191</td>
<td style="text-align: right;">0.657</td>
<td style="text-align: right;">0.076</td>
<td style="text-align: right;">0.028</td>
</tr>
<tr class="even">
<td style="text-align: left;">C2.3_Software</td>
<td style="text-align: left;">C2.3_Software</td>
<td style="text-align: right;">0.297</td>
<td style="text-align: right;">0.546</td>
<td style="text-align: right;">0.232</td>
<td style="text-align: right;">0.084</td>
<td style="text-align: right;">0.138</td>
<td style="text-align: right;">0.019</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C3_Ecosistema</td>
<td style="text-align: left;">C3_Ecosistema</td>
<td style="text-align: right;">0.138</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="even">
<td style="text-align: left;">C3.1_SO</td>
<td style="text-align: left;">C3.1_SO</td>
<td style="text-align: right;">0.500</td>
<td style="text-align: right;">0.351</td>
<td style="text-align: right;">0.189</td>
<td style="text-align: right;">0.109</td>
<td style="text-align: right;">0.351</td>
<td style="text-align: right;">0.004</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C3.2_Bateria</td>
<td style="text-align: left;">C3.2_Bateria</td>
<td style="text-align: right;">0.500</td>
<td style="text-align: right;">0.277</td>
<td style="text-align: right;">0.467</td>
<td style="text-align: right;">0.160</td>
<td style="text-align: right;">0.095</td>
<td style="text-align: right;">0.012</td>
</tr>
<tr class="even">
<td style="text-align: left;">C4_Portabilidad</td>
<td style="text-align: left;">C4_Portabilidad</td>
<td style="text-align: right;">0.084</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">0.000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C4.1_Peso</td>
<td style="text-align: left;">C4.1_Peso</td>
<td style="text-align: right;">0.750</td>
<td style="text-align: right;">0.494</td>
<td style="text-align: right;">0.105</td>
<td style="text-align: right;">0.308</td>
<td style="text-align: right;">0.093</td>
<td style="text-align: right;">0.012</td>
</tr>
<tr class="even">
<td style="text-align: left;">C4.2_Tamano</td>
<td style="text-align: left;">C4.2_Tamano</td>
<td style="text-align: right;">0.250</td>
<td style="text-align: right;">0.351</td>
<td style="text-align: right;">0.109</td>
<td style="text-align: right;">0.351</td>
<td style="text-align: right;">0.189</td>
<td style="text-align: right;">0.004</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="conclusiones-del-método-ahp" class="level4">
<h4 class="anchored" data-anchor-id="conclusiones-del-método-ahp">2.1.3. Conclusiones del Método AHP</h4>
<p>Estudio de Inconsistencia</p>
<p>Un paso fundamental en AHP es verificar la consistencia de las matrices de comparación 2 a 2. Según la teoría, un ratio de inconsistencia (Inconsistency) superior al 10% (0.10) invalidaría los juicios.</p>
<p>En nuestros resultados (results_table), la inconsistencia de la matriz principal (“Mejor Tablet Universitaria”) es del 1.9%. Todas las demás matrices (ej. 2.1% para C1.1_Precio, 0.9% para C2_ExpApuntes) se encuentran muy por debajo del límite del 10%.</p>
<p>Por tanto, las valoraciones han sido coherentes y los resultados del método AHP son robustos y fiables.</p>
<p>Comentarios al Ranking</p>
<p>El ranking final obtenido mediante AHP (ver results_table) es el siguiente:</p>
<ul>
<li><p>A3_Xiaomi (42.5%)</p></li>
<li><p>A1_iPad (23.5%)</p></li>
<li><p>A2_Samsung (22.1%)</p></li>
<li><p>A4_Surface (11.9%)</p></li>
</ul>
<p>Análisis de la tabla:</p>
<p>El Precio es el Factor Decisivo: El criterio C1.1_Precio tiene el mayor peso global (54.6%). La A3_Xiaomi domina este criterio (aporta 33.1% del total), asegurando su victoria.</p>
<p>El iPad Gana en Experiencia: El A1_iPad gana en la segunda categoría más importante, C2_ExpApuntes (23.2% del peso total). Sin embargo, esta victoria no es suficiente para compensar la enorme diferencia en el precio.</p>
<p>Empate Técnico: El A1_iPad y la A2_Samsung están muy cerca. El iPad gana en C2_ExpApuntes y C4_Portabilidad, mientras que la Samsung compite mejor en C1.1_Precio y C3_Ecosistema.</p>
</section>
</section>
<section id="método-ahp-con-r" class="level3">
<h3 class="anchored" data-anchor-id="método-ahp-con-r">2.2. Método AHP (con R)</h3>
<p>En este apartado, se replica el análisis AHP utilizando las funciones R proporcionadas por la asignatura, para cumplir con la evaluación “AHPconR”.</p>
<section id="nivel-1-criterios-principales" class="level4">
<h4 class="anchored" data-anchor-id="nivel-1-criterios-principales">2.2.1. Nivel 1: Criterios Principales</h4>
<p>Primero, definimos la matriz de comparación 2 a 2 para los 4 nodos principales del Nivel 1 (los 3 criterios multinivel y el criterio de precio).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Cargar Funciones</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio.R"</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio_utiles.R"</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio_diagram.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Cargando paquete requerido: shape</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Crear la matriz de Criterios Principales</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Usamos los mismos valores que en el fichero tablets.ahp</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># [Precio (3) vs ExpApuntes], [Precio (4) vs Ecosistema], [Precio (5) vs Portabilidad]</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># [ExpApuntes (2) vs Ecosistema], [ExpApuntes (3) vs Portabilidad]</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># [Ecosistema (2) vs Portabilidad]</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>mat_c1 <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">vector_valoraciones_diagsup =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>), </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">numalternativas =</span> <span class="dv">4</span>,</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">v.nombres.alternativas =</span> <span class="fu">c</span>(<span class="st">"C1.1_Precio"</span>, <span class="st">"C2_ExpApuntes"</span>, <span class="st">"C3_Ecosistema"</span>, <span class="st">"C4_Portabilidad"</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Calcular los pesos locales</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>pesos_c1_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_c1)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Calcular la Inconsistencia (Requisito de la evaluación)</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>incons_c1_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_c1)</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Matriz Criterios Principales (AHP-R) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Matriz Criterios Principales (AHP-R) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(mat_c1, <span class="at">digits =</span> <span class="dv">3</span>, <span class="at">caption =</span> <span class="st">"Matriz Criterios Principales (AHP-R)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> F, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Matriz Criterios Principales (AHP-R)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C1.1_Precio</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C2_ExpApuntes</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C3_Ecosistema</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C4_Portabilidad</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">C1.1_Precio</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">3.000</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">C2_ExpApuntes</td>
<td style="text-align: right;">0.333</td>
<td style="text-align: right;">1.000</td>
<td style="text-align: right;">2.0</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C3_Ecosistema</td>
<td style="text-align: right;">0.250</td>
<td style="text-align: right;">0.500</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">C4_Portabilidad</td>
<td style="text-align: right;">0.200</td>
<td style="text-align: right;">0.333</td>
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Pesos Criterios Principales (AHP-R) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Pesos Criterios Principales (AHP-R) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">t</span>(pesos_c1_R), <span class="at">digits =</span> <span class="dv">4</span>, <span class="at">caption =</span> <span class="st">"Pesos Locales Criterios Principales"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> T, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Pesos Locales Criterios Principales</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">C1.1_Precio</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C2_ExpApuntes</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C3_Ecosistema</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C4_Portabilidad</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.5423</td>
<td style="text-align: right;">0.2333</td>
<td style="text-align: right;">0.1397</td>
<td style="text-align: right;">0.0847</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Ratio de Inconsistencia (C1):"</span>, <span class="fu">round</span>(incons_c1_R<span class="sc">$</span>RI.coef.inconsistencia, <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Ratio de Inconsistencia (C1): 0.0189"</code></pre>
</div>
</div>
</section>
<section id="nivel-2-subcriterios" class="level4">
<h4 class="anchored" data-anchor-id="nivel-2-subcriterios">2.2.2. Nivel 2: Subcriterios</h4>
<p>Ahora, definimos las matrices de comparación para los subcriterios que dependen de cada criterio principal.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Matriz de Subcriterios de C2: Experiencia Apuntes</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co"># [Lapiz (3) vs Pantalla], [Lapiz (2) vs Software]</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># [Software (2) vs Pantalla]</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>mat_c2_sub <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">vector_valoraciones_diagsup =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">2</span>),</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">numalternativas =</span> <span class="dv">3</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">v.nombres.alternativas =</span> <span class="fu">c</span>(<span class="st">"C2.1_Lapiz"</span>, <span class="st">"C2.2_Pantalla"</span>, <span class="st">"C2.3_Software"</span>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Reordenamos la matriz para que coincida con el .ahp (Lapiz, Pantalla, Software)</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>mat_c2_sub <span class="ot">&lt;-</span> mat_c2_sub[<span class="fu">c</span>(<span class="st">"C2.1_Lapiz"</span>, <span class="st">"C2.3_Software"</span>, <span class="st">"C2.2_Pantalla"</span>), <span class="fu">c</span>(<span class="st">"C2.1_Lapiz"</span>, <span class="st">"C2.3_Software"</span>, <span class="st">"C2.2_Pantalla"</span>)]</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>mat_c2_sub <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span>), <span class="dv">3</span>, <span class="fu">c</span>(<span class="st">"C2.1_Lapiz"</span>, <span class="st">"C2.3_Software"</span>, <span class="st">"C2.2_Pantalla"</span>))</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>pesos_c2_sub_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_c2_sub)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>incons_c2_sub_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_c2_sub)</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Ratio de Inconsistencia (C2-Sub):"</span>, <span class="fu">round</span>(incons_c2_sub_R<span class="sc">$</span>RI.coef.inconsistencia, <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Ratio de Inconsistencia (C2-Sub): 0.0079"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Matriz de Subcriterios de C3: Ecosistema</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co"># [SO (1) vs Bateria]</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>mat_c3_sub <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">vector_valoraciones_diagsup =</span> <span class="fu">c</span>(<span class="dv">1</span>),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">numalternativas =</span> <span class="dv">2</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">v.nombres.alternativas =</span> <span class="fu">c</span>(<span class="st">"C3.1_SO"</span>, <span class="st">"C3.2_Bateria"</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>pesos_c3_sub_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_c3_sub)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>incons_c3_sub_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_c3_sub)</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Ratio de Inconsistencia (C3-Sub):"</span>, <span class="fu">round</span>(incons_c3_sub_R<span class="sc">$</span>RI.coef.inconsistencia, <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Ratio de Inconsistencia (C3-Sub): NaN"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Matriz de Subcriterios de C4: Portabilidad</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co"># [Peso (3) vs Tamano]</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>mat_c4_sub <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">vector_valoraciones_diagsup =</span> <span class="fu">c</span>(<span class="dv">3</span>),</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">numalternativas =</span> <span class="dv">2</span>,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">v.nombres.alternativas =</span> <span class="fu">c</span>(<span class="st">"C4.1_Peso"</span>, <span class="st">"C4.2_Tamano"</span>)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>pesos_c4_sub_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_c4_sub)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>incons_c4_sub_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_c4_sub)</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Ratio de Inconsistencia (C4-Sub):"</span>, <span class="fu">round</span>(incons_c4_sub_R<span class="sc">$</span>RI.coef.inconsistencia, <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Ratio de Inconsistencia (C4-Sub): NaN"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostramos las tablas de pesos</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Pesos Subcriterios de Exp. Apuntes (AHP-R) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Pesos Subcriterios de Exp. Apuntes (AHP-R) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">t</span>(pesos_c2_sub_R), <span class="at">digits =</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> T, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">C2.1_Lapiz</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C2.3_Software</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C2.2_Pantalla</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.539</td>
<td style="text-align: right;">0.2973</td>
<td style="text-align: right;">0.1638</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Pesos Subcriterios de Ecosistema (AHP-R) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Pesos Subcriterios de Ecosistema (AHP-R) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">t</span>(pesos_c3_sub_R), <span class="at">digits =</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> T, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">C3.1_SO</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C3.2_Bateria</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.5</td>
<td style="text-align: right;">0.5</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Pesos Subcriterios de Portabilidad (AHP-R) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Pesos Subcriterios de Portabilidad (AHP-R) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">t</span>(pesos_c4_sub_R), <span class="at">digits =</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> T, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">C4.1_Peso</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C4.2_Tamano</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.75</td>
<td style="text-align: right;">0.25</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="nivel-3-alternativas" class="level4">
<h4 class="anchored" data-anchor-id="nivel-3-alternativas">2.2.3. Nivel 3: Alternativas</h4>
<p>Finalmente, se crean las 8 matrices de comparación para las 4 alternativas, una por cada subcriterio.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Definimos los nombres de las alternativas</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>v_nombres_alt <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"A1_iPad"</span>, <span class="st">"A2_Samsung"</span>, <span class="st">"A3_Xiaomi"</span>, <span class="st">"A4_Surface"</span>)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>num_alt <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales <span class="ot">&lt;-</span> <span class="fu">list</span>() <span class="co"># Aquí guardaremos los 8 vectores de pesos</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia <span class="ot">&lt;-</span> <span class="fu">list</span>() <span class="co"># Aquí guardaremos los 8 ratios</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Matriz para C1.1: Precio</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>mat_alt_1_precio <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">6</span>), num_alt, v_nombres_alt)</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>pesos_alt_1_precio_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_1_precio)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"C1.1_Precio"</span>]] <span class="ot">&lt;-</span> pesos_alt_1_precio_R</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"C1.1_Precio"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_1_precio)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Matriz para C2.1: Lapiz</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>mat_alt_2_lapiz <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>), num_alt, v_nombres_alt)</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>pesos_alt_2_lapiz_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_2_lapiz)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"C2.1_Lapiz"</span>]] <span class="ot">&lt;-</span> pesos_alt_2_lapiz_R</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"C2.1_Lapiz"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_2_lapiz)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Matriz para C2.2: Pantalla</span></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>mat_alt_3_pantalla <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">7</span>), num_alt, v_nombres_alt)</span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>pesos_alt_3_pantalla_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_3_pantalla)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"C2.2_Pantalla"</span>]] <span class="ot">&lt;-</span> pesos_alt_3_pantalla_R</span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"C2.2_Pantalla"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_3_pantalla)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Matriz para C2.3: Software</span></span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>mat_alt_4_software <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>), num_alt, v_nombres_alt)</span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>pesos_alt_4_software_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_4_software)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"C2.3_Software"</span>]] <span class="ot">&lt;-</span> pesos_alt_4_software_R</span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"C2.3_Software"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_4_software)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. Matriz para C3.1: SO</span></span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a>mat_alt_5_so <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>), num_alt, v_nombres_alt)</span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a>pesos_alt_5_so_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_5_so)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb37-39"><a href="#cb37-39" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"C3.1_SO"</span>]] <span class="ot">&lt;-</span> pesos_alt_5_so_R</span>
<span id="cb37-40"><a href="#cb37-40" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"C3.1_SO"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_5_so)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb37-41"><a href="#cb37-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-42"><a href="#cb37-42" aria-hidden="true" tabindex="-1"></a><span class="co"># 6. Matriz para C3.2: Bateria</span></span>
<span id="cb37-43"><a href="#cb37-43" aria-hidden="true" tabindex="-1"></a>mat_alt_6_bateria <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb37-44"><a href="#cb37-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>), num_alt, v_nombres_alt)</span>
<span id="cb37-45"><a href="#cb37-45" aria-hidden="true" tabindex="-1"></a>pesos_alt_6_bateria_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_6_bateria)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb37-46"><a href="#cb37-46" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"C3.2_Bateria"</span>]] <span class="ot">&lt;-</span> pesos_alt_6_bateria_R</span>
<span id="cb37-47"><a href="#cb37-47" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"C3.2_Bateria"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_6_bateria)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb37-48"><a href="#cb37-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-49"><a href="#cb37-49" aria-hidden="true" tabindex="-1"></a><span class="co"># 7. Matriz para C4.1: Peso</span></span>
<span id="cb37-50"><a href="#cb37-50" aria-hidden="true" tabindex="-1"></a>mat_alt_7_peso <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb37-51"><a href="#cb37-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">4</span>), num_alt, v_nombres_alt)</span>
<span id="cb37-52"><a href="#cb37-52" aria-hidden="true" tabindex="-1"></a>pesos_alt_7_peso_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_7_peso)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb37-53"><a href="#cb37-53" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"C4.1_Peso"</span>]] <span class="ot">&lt;-</span> pesos_alt_7_peso_R</span>
<span id="cb37-54"><a href="#cb37-54" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"C4.1_Peso"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_7_peso)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb37-55"><a href="#cb37-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-56"><a href="#cb37-56" aria-hidden="true" tabindex="-1"></a><span class="co"># 8. Matriz para C4.2: Tamano</span></span>
<span id="cb37-57"><a href="#cb37-57" aria-hidden="true" tabindex="-1"></a>mat_alt_8_tamano <span class="ot">&lt;-</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>(</span>
<span id="cb37-58"><a href="#cb37-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">2</span>), num_alt, v_nombres_alt)</span>
<span id="cb37-59"><a href="#cb37-59" aria-hidden="true" tabindex="-1"></a>pesos_alt_8_tamano_R <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.variante3.basico</span>(mat_alt_8_tamano)<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb37-60"><a href="#cb37-60" aria-hidden="true" tabindex="-1"></a>lista_pesos_locales[[<span class="st">"C4.2_Tamano"</span>]] <span class="ot">&lt;-</span> pesos_alt_8_tamano_R</span>
<span id="cb37-61"><a href="#cb37-61" aria-hidden="true" tabindex="-1"></a>lista_inconsistencia[[<span class="st">"C4.2_Tamano"</span>]] <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(mat_alt_8_tamano)<span class="sc">$</span>RI.coef.inconsistencia</span>
<span id="cb37-62"><a href="#cb37-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-63"><a href="#cb37-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-64"><a href="#cb37-64" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimir solo el estudio de inconsistencia (para no saturar el informe)</span></span>
<span id="cb37-65"><a href="#cb37-65" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Estudio de Inconsistencia (AHP-R Nivel Alternativas) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Estudio de Inconsistencia (AHP-R Nivel Alternativas) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>inconsistencia_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Ratio_Inconsistencia =</span> <span class="fu">unlist</span>(lista_inconsistencia))</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(inconsistencia_df, <span class="at">digits =</span> <span class="dv">4</span>, <span class="at">caption =</span> <span class="st">"Inconsistencia de las 8 Matrices de Alternativas"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> F, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Inconsistencia de las 8 Matrices de Alternativas</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Ratio_Inconsistencia</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">C1.1_Precio</td>
<td style="text-align: right;">0.0210</td>
</tr>
<tr class="even">
<td style="text-align: left;">C2.1_Lapiz</td>
<td style="text-align: right;">0.0038</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C2.2_Pantalla</td>
<td style="text-align: right;">0.0272</td>
</tr>
<tr class="even">
<td style="text-align: left;">C2.3_Software</td>
<td style="text-align: right;">0.0189</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C3.1_SO</td>
<td style="text-align: right;">0.0038</td>
</tr>
<tr class="even">
<td style="text-align: left;">C3.2_Bateria</td>
<td style="text-align: right;">0.0115</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C4.1_Peso</td>
<td style="text-align: right;">0.0120</td>
</tr>
<tr class="even">
<td style="text-align: left;">C4.2_Tamano</td>
<td style="text-align: right;">0.0038</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="cálculo-del-ranking-global-ahp-r" class="level4">
<h4 class="anchored" data-anchor-id="cálculo-del-ranking-global-ahp-r">2.2.4. Cálculo del Ranking Global (AHP-R)</h4>
<p>Finalmente, se calcula el ranking global. Para ello, primero se calcula el peso global de cada uno de los 8 subcriterios (hojas del árbol) multiplicando el peso de su criterio principal por su peso local.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Calcular el vector de pesos globales de los 8 subcriterios</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (Peso Criterio Principal * Peso Local Subcriterio)</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>vec_pesos_globales_sub_R <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  pesos_c1_R[<span class="st">"C1.1_Precio"</span>] <span class="sc">*</span> <span class="dv">1</span>, <span class="co"># El criterio C1.1 es hoja directa</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  pesos_c1_R[<span class="st">"C2_ExpApuntes"</span>] <span class="sc">*</span> pesos_c2_sub_R,</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  pesos_c1_R[<span class="st">"C3_Ecosistema"</span>] <span class="sc">*</span> pesos_c3_sub_R,</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  pesos_c1_R[<span class="st">"C4_Portabilidad"</span>] <span class="sc">*</span> pesos_c4_sub_R</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Crear la matriz de pesos de alternativas (8 Subcriterios x 4 Alternativas)</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Usamos 'do.call(rbind, ...)' para unir los 8 vectores de la lista</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>mat_alt_final_R <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, lista_pesos_locales)</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Reordenamos las filas para que coincidan con el vector de pesos globales</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>mat_alt_final_R <span class="ot">&lt;-</span> mat_alt_final_R[<span class="fu">names</span>(vec_pesos_globales_sub_R), ]</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Calcular el ranking final (Producto matricial)</span></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a><span class="co"># (1x8) %*% (8x4) = (1x4)</span></span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>ranking_final_R <span class="ot">&lt;-</span> vec_pesos_globales_sub_R <span class="sc">%*%</span> mat_alt_final_R</span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Formatear y mostrar la tabla de resultados</span></span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>ranking_df_R <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">t</span>(ranking_final_R)) <span class="co"># Transponer para ver en columna</span></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(ranking_df_R) <span class="ot">&lt;-</span> <span class="st">"Ponderacion_Global_AHP_R"</span></span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>ranking_df_R <span class="ot">&lt;-</span> ranking_df_R[<span class="fu">order</span>(ranking_df_R<span class="sc">$</span>Ponderacion_Global_AHP_R, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), , drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Ranking Final (AHP-R) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Ranking Final (AHP-R) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(ranking_df_R, <span class="at">digits =</span> <span class="dv">4</span>, <span class="at">caption =</span> <span class="st">"Ranking Final (AHP con Funciones R)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> F, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Ranking Final (AHP con Funciones R)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Ponderacion_Global_AHP_R</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A3_Xiaomi</td>
<td style="text-align: right;">0.4203</td>
</tr>
<tr class="even">
<td style="text-align: left;">A1_iPad</td>
<td style="text-align: right;">0.2361</td>
</tr>
<tr class="odd">
<td style="text-align: left;">A2_Samsung</td>
<td style="text-align: right;">0.2229</td>
</tr>
<tr class="even">
<td style="text-align: left;">A4_Surface</td>
<td style="text-align: right;">0.1207</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="conclusiones-del-método-ahp-con-r" class="level4">
<h4 class="anchored" data-anchor-id="conclusiones-del-método-ahp-con-r">2.2.5. Conclusiones del Método AHP (con R)</h4>
<p>El análisis manual con las funciones R de la asignatura (AHPconR) cumple dos objetivos:</p>
<p>Estudio de Inconsistencia: Como se vio en los chunks anteriores, se ha calculado el Ratio de Inconsistencia (RI) para cada una de las 12 matrices de comparación. Todos los valores (ej. 0.0071 para la matriz de criterios) están muy por debajo del límite del 10%, validando la coherencia de los juicios.</p>
<p>Ranking Final: El ranking obtenido (ver Tabla “Ranking Final (AHP con Funciones R)”) es idéntico al obtenido con el paquete ahp (Tabla “Resultados Finales AHP”).</p>
<p>Conclusión: Ambos métodos de AHP (Paquete y Funciones R) producen el mismo resultado (Xiaomi &gt; iPad &gt; Samsung &gt; Surface), lo que confirma la correcta aplicación de ambas técnicas.</p>
<hr>
</section>
</section>
</section>
<section id="método-electre" class="level2">
<h2 class="anchored" data-anchor-id="método-electre">3. Método ELECTRE</h2>
<p>El método ELECTRE es un enfoque basado en la comparación por pares de alternativas, utilizando los conceptos de concordancia y discordancia para establecer relaciones de dominancia. A diferencia de AHP, es un método no-compensatorio.</p>
<section id="carga-de-funciones-y-preparación-de-datos" class="level3">
<h3 class="anchored" data-anchor-id="carga-de-funciones-y-preparación-de-datos">3.1 Carga de Funciones y Preparación de Datos</h3>
<p>Para mantener la consistencia del análisis, se utilizan los resultados del método AHP como datos de entrada. Las funciones de la asignatura (<code>teoriadecision_funciones_multicriterio.R</code>) son necesarias.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar funciones (si no están ya cargadas)</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio.R"</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio_utiles.R"</span>)</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Preparar datos</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Seleccionar solo los 8 subcriterios (las "hojas" de nuestro árbol AHP)</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>nombres_subcriterios <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"C1.1_Precio"</span>, </span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"C2.1_Lapiz"</span>, <span class="st">"C2.2_Pantalla"</span>, <span class="st">"C2.3_Software"</span>,</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"C3.1_SO"</span>, <span class="st">"C3.2_Bateria"</span>,</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"C4.1_Peso"</span>, <span class="st">"C4.2_Tamano"</span>)</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Usar la tabla de prioridad local de AHP (results_priority)</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Esta tabla contiene la "nota" (prioridad local) de cada tablet en cada criterio</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>matriz_base <span class="ot">&lt;-</span> results_priority[nombres_subcriterios, </span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">c</span>(<span class="st">"A1_iPad"</span>, <span class="st">"A2_Samsung"</span>, <span class="st">"A3_Xiaomi"</span>, <span class="st">"A4_Surface"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="creación-de-la-matriz-de-decisión" class="level3">
<h3 class="anchored" data-anchor-id="creación-de-la-matriz-de-decisión">3.2 Creación de la Matriz de Decisión</h3>
<p>A partir de los datos de AHP, se construye la matriz de decisión que requiere ELECTRE (Alternativas x Criterios).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear Matriz de Decisión</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Transponer la matriz para tener (Alternativas x Criterios)</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>matriz_electre <span class="ot">&lt;-</span> <span class="fu">t</span>(matriz_base)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Mostrar la matriz de decisión que usaremos</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(matriz_electre, <span class="at">digits =</span> <span class="dv">3</span>, <span class="at">caption =</span> <span class="st">"Matriz de Decisión para ELECTRE (Basada en prioridades locales AHP)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> F, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Matriz de Decisión para ELECTRE (Basada en prioridades locales AHP)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C1.1_Precio</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C2.1_Lapiz</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C2.2_Pantalla</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C2.3_Software</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C3.1_SO</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C3.2_Bateria</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C4.1_Peso</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">C4.2_Tamano</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A1_iPad</td>
<td style="text-align: right;">0.102</td>
<td style="text-align: right;">0.455</td>
<td style="text-align: right;">0.076</td>
<td style="text-align: right;">0.546</td>
<td style="text-align: right;">0.351</td>
<td style="text-align: right;">0.277</td>
<td style="text-align: right;">0.494</td>
<td style="text-align: right;">0.351</td>
</tr>
<tr class="even">
<td style="text-align: left;">A2_Samsung</td>
<td style="text-align: right;">0.203</td>
<td style="text-align: right;">0.263</td>
<td style="text-align: right;">0.191</td>
<td style="text-align: right;">0.232</td>
<td style="text-align: right;">0.189</td>
<td style="text-align: right;">0.467</td>
<td style="text-align: right;">0.105</td>
<td style="text-align: right;">0.109</td>
</tr>
<tr class="odd">
<td style="text-align: left;">A3_Xiaomi</td>
<td style="text-align: right;">0.606</td>
<td style="text-align: right;">0.141</td>
<td style="text-align: right;">0.657</td>
<td style="text-align: right;">0.084</td>
<td style="text-align: right;">0.109</td>
<td style="text-align: right;">0.160</td>
<td style="text-align: right;">0.308</td>
<td style="text-align: right;">0.351</td>
</tr>
<tr class="even">
<td style="text-align: left;">A4_Surface</td>
<td style="text-align: right;">0.089</td>
<td style="text-align: right;">0.141</td>
<td style="text-align: right;">0.076</td>
<td style="text-align: right;">0.138</td>
<td style="text-align: right;">0.351</td>
<td style="text-align: right;">0.095</td>
<td style="text-align: right;">0.093</td>
<td style="text-align: right;">0.189</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="definición-de-pesos-y-parámetros" class="level3">
<h3 class="anchored" data-anchor-id="definición-de-pesos-y-parámetros">3.3 Definición de Pesos y Parámetros</h3>
<p>Usaremos los pesos globales de los subcriterios calculados en AHP y definiremos los parámetros de concordancia y discordancia.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Preparar Pesos </span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraer pesos globales de la Tabla 1 de AHP (results_table)</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>pesos_globales_ahp <span class="ot">&lt;-</span> results_table[nombres_subcriterios, <span class="st">"Weight"</span>]</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalizar los pesos para que sumen 1 (requisito de la función)</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>pesos_electre <span class="ot">&lt;-</span> pesos_globales_ahp <span class="sc">/</span> <span class="fu">sum</span>(pesos_globales_ahp)</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Pesos Normalizados para ELECTRE ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Pesos Normalizados para ELECTRE ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Usamos kbl para mostrar el vector de pesos de forma ordenada</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kbl</span>(<span class="fu">t</span>(pesos_electre), <span class="at">digits =</span> <span class="dv">3</span>, <span class="at">caption =</span> <span class="st">"Vector de Pesos (W) para ELECTRE"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">"striped"</span>, <span class="at">full_width =</span> T, <span class="at">position =</span> <span class="st">"center"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped caption-top table-sm small" data-quarto-postprocess="true">
<caption>Vector de Pesos (W) para ELECTRE</caption>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.546</td>
<td style="text-align: right;">0.125</td>
<td style="text-align: right;">0.038</td>
<td style="text-align: right;">0.069</td>
<td style="text-align: right;">0.069</td>
<td style="text-align: right;">0.069</td>
<td style="text-align: right;">0.063</td>
<td style="text-align: right;">0.021</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Preparar Parámetros</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Nivel de Concordancia (qué tan de acuerdo deben estar los criterios)</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>alpha_concordancia <span class="ot">&lt;-</span> <span class="fl">0.7</span> </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Umbrales de Discordancia (d_i) o Veto</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Si una alternativa es MUCHO peor en un criterio importante, es vetada.</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Los criterios más importantes son Precio (54.6%) y Lápiz (12.5%).</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Establecemos un veto si la diferencia de "nota" (prioridad local) es &gt; 0.30 (30%)</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="co"># en esos criterios. El resto se pueden compensar (Inf).</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>umbrales_discordancia <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.30</span>,   <span class="co"># C1.1_Precio (Muy Importante)</span></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>    <span class="fl">0.30</span>,   <span class="co"># C2.1_Lapiz (Importante)</span></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>    <span class="cn">Inf</span>,    <span class="co"># C2.2_Pantalla</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>    <span class="cn">Inf</span>,    <span class="co"># C2.3_Software</span></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>    <span class="cn">Inf</span>,    <span class="co"># C3.1_SO</span></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>    <span class="cn">Inf</span>,    <span class="co"># C3.2_Bateria</span></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>    <span class="cn">Inf</span>,    <span class="co"># C4.1_Peso</span></span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>    <span class="cn">Inf</span>     <span class="co"># C4.2_Tamano</span></span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ejecución-y-análisis-iterativo" class="level3">
<h3 class="anchored" data-anchor-id="ejecución-y-análisis-iterativo">3.4 Ejecución y Análisis Iterativo</h3>
<p>Realizamos un análisis iterativo para encontrar el núcleo del grafo de superación, como se requiere para un análisis ELECTRE I completo.</p>
<ul>
<li>Iteración 1: Todas las alternativas</li>
</ul>
<p>Primero, ejecutamos el método con las 4 alternativas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(qgraph)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Ejecutar ELECTRE I (Iteración 1) </span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Ejecutando ELECTRE I: Iteración 1 (Todas las alternativas) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Ejecutando ELECTRE I: Iteración 1 (Todas las alternativas) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Ejecutar ELECTRE I (Iteración 1: Todas las alternativas)</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="co">#    Usamos la función de clase [cite: 1091]</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>salida_electre1 <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoELECTRE_I</span>(</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">tabdecs.X =</span> matriz_electre,</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">pesos.criterios =</span> pesos_electre,</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">nivel.concordancia.minimo.alpha =</span> alpha_concordancia,</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">no.se.compensan =</span> umbrales_discordancia</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Mostrar el núcleo (las mejores alternativas)</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- ELECTRE Iteración 1: Núcleo Aproximado ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- ELECTRE Iteración 1: Núcleo Aproximado ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(salida_electre1<span class="sc">$</span>nucleo_aprox)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   A1_iPad A2_Samsung  A3_Xiaomi 
         1          2          3 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Mostrar el grafo de dominancia [cite: 1104]</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- ELECTRE Iteración 1: Grafo de Dominancia ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- ELECTRE Iteración 1: Grafo de Dominancia ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>qgraph<span class="sc">::</span><span class="fu">qgraph</span>(salida_electre1<span class="sc">$</span>relacion.dominante, </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">labels =</span> <span class="fu">rownames</span>(matriz_electre),</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">edge.labels =</span> <span class="cn">FALSE</span>,</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">posCol =</span> <span class="st">"blue"</span>,</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">label.cex =</span> <span class="fl">1.2</span>,</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">label.color =</span> <span class="st">"black"</span>,</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">vsize =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Trabajo-2_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Iteración 2: Filtrado del Núcleo</li>
</ul>
<p>El núcleo de la Iteración 1 nos devuelve 3 alternativas (A1, A2, A3). Repetimos el análisis solo con estas alternativas para intentar desempatar.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejecutar ELECTRE I (Iteración 2)</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Identificamos las alternativas del núcleo anterior</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>alternativas_nucleo1 <span class="ot">&lt;-</span> salida_electre1<span class="sc">$</span>nucleo_aprox </span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>alternativas_nucleo1_nombres <span class="ot">&lt;-</span> <span class="fu">names</span>(alternativas_nucleo1)</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- Ejecutando ELECTRE I: Iteración 2 (solo núcleo) ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- Ejecutando ELECTRE I: Iteración 2 (solo núcleo) ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Alternativas en esta iteración:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Alternativas en esta iteración:"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(alternativas_nucleo1_nombres)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "A1_iPad"    "A2_Samsung" "A3_Xiaomi" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Ejecutamos ELECTRE I de nuevo, pero pasando el vector de</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="co">#    alternativas en el parámetro 'que.alternativas' [cite: 1108]</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>salida_electre2 <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoELECTRE_I</span>(</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">tabdecs.X =</span> matriz_electre,</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">pesos.criterios =</span> pesos_electre,</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">nivel.concordancia.minimo.alpha =</span> alpha_concordancia,</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">no.se.compensan =</span> umbrales_discordancia,</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">que.alternativas =</span> alternativas_nucleo1_nombres <span class="co"># ¡Filtro clave!</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Imprimir el núcleo final</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- ELECTRE Iteración 2: Núcleo Final ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- ELECTRE Iteración 2: Núcleo Final ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(salida_electre2<span class="sc">$</span>nucleo_aprox)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   A1_iPad A2_Samsung  A3_Xiaomi 
         1          2          3 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Mostrar el grafo de dominancia final</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"--- ELECTRE Iteración 2: Grafo de Dominancia Final ---"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "--- ELECTRE Iteración 2: Grafo de Dominancia Final ---"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>qgraph<span class="sc">::</span><span class="fu">qgraph</span>(salida_electre2<span class="sc">$</span>relacion.dominante, </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">labels =</span> alternativas_nucleo1_nombres,</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">edge.labels =</span> <span class="cn">FALSE</span>,</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">posCol =</span> <span class="st">"blue"</span>,</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">label.cex =</span> <span class="fl">1.2</span>,</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">label.color =</span> <span class="st">"black"</span>,</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">vsize =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Trabajo-2_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="conclusiones-del-método-electre" class="level3">
<h3 class="anchored" data-anchor-id="conclusiones-del-método-electre">3.5 Conclusiones del Método ELECTRE</h3>
<p>El método ELECTRE I se ha ejecutado siguiendo el paso a paso requerido (evitando “un solo paso”).</p>
<ul>
<li><p>Iteración 1: Al ejecutar el método con las 4 alternativas, el grafo de superación mostró que la alternativa A4_Surface era dominada, mientras que las otras tres (A1_iPad, A2_Samsung, A3_Xiaomi) no recibían ninguna relación de dominancia. El núcleo aproximado resultante fue, por tanto, [A1_iPad, A2_Samsung, A3_Xiaomi].</p></li>
<li><p>Iteración 2: Para desempatar, se repite el análisis filtrando solo por las alternativas del núcleo. El grafo resultante no muestra ninguna flecha, lo que significa que existe una relación de incomparabilidad entre estas tres alternativas. El núcleo final sigue siendo [A1_iPad, A2_Samsung, A3_Xiaomi].</p></li>
</ul>
<p>Conclusión: ELECTRE I no nos da un único ganador como AHP. Concluye que la A4_Surface es la peor opción, pero que el iPad, la Samsung y la Xiaomi son incomparables entre sí bajo los parámetros <span class="math inline">\(\alpha=0.7\)</span> y los umbrales de discordancia (veto) establecidos.</p>
<hr>
</section>
</section>
<section id="método-promethee-ii" class="level2">
<h2 class="anchored" data-anchor-id="método-promethee-ii">4. Método PROMETHEE II</h2>
<p>El método PROMETHEE II es un enfoque de decisión multicriterio que utiliza funciones de preferencia para comparar alternativas y generar un ranking completo basado en flujos netos.</p>
<section id="definición-de-parámetros-y-funciones-de-preferencia" class="level3">
<h3 class="anchored" data-anchor-id="definición-de-parámetros-y-funciones-de-preferencia">4.1. Definición de Parámetros y Funciones de Preferencia</h3>
<p>Este es el paso clave de PROMETHEE en el que se deben definir las funciones de preferencia generalizadas para cada uno de los 8 subcriterios. A diferencia de ELECTRE, que usa datos de AHP, PROMETHEE funciona mejor con los <strong>datos originales</strong> (precios en €, Hz, etc.).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Cargar Funciones (si no están ya cargadas) ---</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio.R"</span>)</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio_utiles.R"</span>)</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio_diagram.R"</span>)</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a><span class="co"># --- Definir Parámetros de PROMETHEE ---</span></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Matriz de Decisión (Datos Originales del Paso 1)</span></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>matriz_promethee <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(</span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>  <span class="dv">748</span>, <span class="dv">9</span>, <span class="dv">60</span>, <span class="dv">10</span>, <span class="dv">9</span>, <span class="dv">9</span>, <span class="dv">489</span>, <span class="fl">11.0</span>,  <span class="co"># A1: iPad Air</span></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>  <span class="dv">649</span>, <span class="dv">8</span>, <span class="dv">90</span>, <span class="dv">8</span>,  <span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">640</span>, <span class="fl">12.4</span>, <span class="co"># A2: Samsung S9 FE+</span></span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>  <span class="dv">449</span>, <span class="dv">7</span>, <span class="dv">144</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">499</span>, <span class="fl">11.0</span>, <span class="co"># A3: Xiaomi Pad 6</span></span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a>  <span class="dv">798</span>, <span class="dv">7</span>, <span class="dv">60</span>, <span class="dv">7</span>,  <span class="dv">9</span>, <span class="dv">7</span>, <span class="dv">663</span>, <span class="fl">10.5</span>  <span class="co"># A4: Surface Go 4</span></span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a>), <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(matriz_promethee) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"C1.1_Precio"</span>, <span class="st">"C2.1_Lapiz"</span>, <span class="st">"C2.2_Pantalla"</span>, <span class="st">"C2.3_Software"</span>, <span class="st">"C3.1_SO"</span>, <span class="st">"C3.2_Bateria"</span>, <span class="st">"C4.1_Peso"</span>, <span class="st">"C4.2_Tamano"</span>)</span>
<span id="cb71-17"><a href="#cb71-17" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(matriz_promethee) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"A1_iPad"</span>, <span class="st">"A2_Samsung"</span>, <span class="st">"A3_Xiaomi"</span>, <span class="st">"A4_Surface"</span>)</span>
<span id="cb71-18"><a href="#cb71-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-19"><a href="#cb71-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Pesos: Reutilizamos los pesos globales de AHP (variable 'results_table')</span></span>
<span id="cb71-20"><a href="#cb71-20" aria-hidden="true" tabindex="-1"></a>nombres_subcriterios <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"C1.1_Precio"</span>, <span class="st">"C2.1_Lapiz"</span>, <span class="st">"C2.2_Pantalla"</span>, <span class="st">"C2.3_Software"</span>,</span>
<span id="cb71-21"><a href="#cb71-21" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"C3.1_SO"</span>, <span class="st">"C3.2_Bateria"</span>, <span class="st">"C4.1_Peso"</span>, <span class="st">"C4.2_Tamano"</span>)</span>
<span id="cb71-22"><a href="#cb71-22" aria-hidden="true" tabindex="-1"></a>pesos_promethee <span class="ot">&lt;-</span> results_table[nombres_subcriterios, <span class="st">"Weight"</span>]</span>
<span id="cb71-23"><a href="#cb71-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-24"><a href="#cb71-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Vector min/max: ¡CRÍTICO!</span></span>
<span id="cb71-25"><a href="#cb71-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Precio(min), Lápiz(max), Pantalla(max), Software(max), SO(max), Batería(max), Peso(min), Tamaño(max)</span></span>
<span id="cb71-26"><a href="#cb71-26" aria-hidden="true" tabindex="-1"></a>vec_fminmax <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"min"</span>, <span class="st">"max"</span>, <span class="st">"max"</span>, <span class="st">"max"</span>, <span class="st">"max"</span>, <span class="st">"max"</span>, <span class="st">"min"</span>, <span class="st">"max"</span>)</span>
<span id="cb71-27"><a href="#cb71-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-28"><a href="#cb71-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-29"><a href="#cb71-29" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Tabla de Funciones de Preferencia (tab.fpref) y Justificación</span></span>
<span id="cb71-30"><a href="#cb71-30" aria-hidden="true" tabindex="-1"></a><span class="co"># (Evaluación: "Explicaciones")</span></span>
<span id="cb71-31"><a href="#cb71-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Basado en los datos reales (no en las "notas" de AHP)</span></span>
<span id="cb71-32"><a href="#cb71-32" aria-hidden="true" tabindex="-1"></a>tab_fpref_promethee <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb71-33"><a href="#cb71-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb71-34"><a href="#cb71-34" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">50</span>, <span class="dv">300</span>, <span class="dv">0</span>,  <span class="co"># C1.1 Precio (min): Linear. Indif(q)=50€, Pref(p)=300€</span></span>
<span id="cb71-35"><a href="#cb71-35" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">0</span>,  <span class="dv">2</span>,   <span class="dv">0</span>,  <span class="co"># C2.1 Lápiz (max): V-shape. p=2 (en escala 1-10)</span></span>
<span id="cb71-36"><a href="#cb71-36" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">40</span>,  <span class="dv">0</span>,  <span class="co"># C2.2 Pantalla (max): Linear. Indif(q)=10Hz, Pref(p)=40Hz</span></span>
<span id="cb71-37"><a href="#cb71-37" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">0</span>,  <span class="dv">3</span>,   <span class="dv">0</span>,  <span class="co"># C2.3 Software (max): V-shape. p=3 (en escala 1-10)</span></span>
<span id="cb71-38"><a href="#cb71-38" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="dv">0</span>,  <span class="dv">2</span>,   <span class="dv">0</span>,  <span class="co"># C3.1 SO (max): V-shape. p=2 (en escala 1-10)</span></span>
<span id="cb71-39"><a href="#cb71-39" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">1</span>,  <span class="dv">3</span>,   <span class="dv">0</span>,  <span class="co"># C3.2 Batería (max): Linear. Indif(q)=1h, Pref(p)=3h</span></span>
<span id="cb71-40"><a href="#cb71-40" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="dv">50</span>, <span class="dv">200</span>, <span class="dv">0</span>,  <span class="co"># C4.1 Peso (min): Linear. Indif(q)=50g, Pref(p)=200g</span></span>
<span id="cb71-41"><a href="#cb71-41" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>, <span class="fl">0.5</span>, <span class="dv">2</span>,  <span class="dv">0</span>   <span class="co"># C4.2 Tamaño (max): Linear. Indif(q)=0.5", Pref(p)=2"</span></span>
<span id="cb71-42"><a href="#cb71-42" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb71-43"><a href="#cb71-43" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">4</span>, </span>
<span id="cb71-44"><a href="#cb71-44" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span></span>
<span id="cb71-45"><a href="#cb71-45" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ejecución-y-resultados-de-promethee-ii" class="level3">
<h3 class="anchored" data-anchor-id="ejecución-y-resultados-de-promethee-ii">4.2. Ejecución y Resultados de PROMETHEE II</h3>
<p>Ahora, ejecutamos el método PROMETHEE II. Usamos la función multicriterio.metodo.promethee_windows para cumplir con el requisito de la evaluación.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejecutar PROMETHEE</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Ejecutamos las funciones y guardamos las tablas en una variable</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>salida_promethee <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodo.promethee_windows</span>(</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">matdecision =</span> matriz_promethee,</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">tab.fpref =</span> tab_fpref_promethee,</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">pesos.criterios =</span> pesos_promethee,</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">fminmax =</span> vec_fminmax</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Formateamos la salida con la función de la asignatura</span></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>tablas_promethee <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodo.promethee_windows_kableExtra</span>(salida_promethee)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Tabla de Escenario (Parámetros)</p>
<p>A continuación, se muestra la tabla de escenario que resume los parámetros, pesos y las funciones de preferencia utilizadas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar Tabla de Escenario </span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>tablas_promethee<span class="sc">$</span>tabEscenario</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-paper lightable-striped caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio1</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio2</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio3</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio4</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio5</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio6</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio7</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Criterio8</th>
</tr>
</thead>
<tbody>
<tr class="odd" data-grouplength="6">
<td colspan="9" style="border-bottom: 1px solid"><strong>Preferencias</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Min/Max</td>
<td style="text-align: left;">min</td>
<td style="text-align: left;">max</td>
<td style="text-align: left;">max</td>
<td style="text-align: left;">max</td>
<td style="text-align: left;">max</td>
<td style="text-align: left;">max</td>
<td style="text-align: left;">min</td>
<td style="text-align: left;">max</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Pesos</td>
<td style="text-align: left;">0.546219030987245</td>
<td style="text-align: left;">0.125354115031562</td>
<td style="text-align: left;">0.0379639239700167</td>
<td style="text-align: left;">0.0689850280306309</td>
<td style="text-align: left;">0.068862305270284</td>
<td style="text-align: left;">0.068862305270284</td>
<td style="text-align: left;">0.0628149685799835</td>
<td style="text-align: left;">0.0209383228599945</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Funciones Preferencias</td>
<td style="text-align: left;">Linear (5)</td>
<td style="text-align: left;">V-shape (3)</td>
<td style="text-align: left;">Linear (5)</td>
<td style="text-align: left;">V-shape (3)</td>
<td style="text-align: left;">V-shape (3)</td>
<td style="text-align: left;">Linear (5)</td>
<td style="text-align: left;">Linear (5)</td>
<td style="text-align: left;">Linear (5)</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Q: Indiferencia</td>
<td style="text-align: left;">50</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">10</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">50</td>
<td style="text-align: left;">0.5</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">P: Preferencia</td>
<td style="text-align: left;">300</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">40</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">3</td>
<td style="text-align: left;">200</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">S: Gausiano</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even" data-grouplength="4">
<td colspan="9" style="border-bottom: 1px solid"><strong>Estadísticas</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Minimo</td>
<td style="text-align: left;">-798</td>
<td style="text-align: left;">7</td>
<td style="text-align: left;">60</td>
<td style="text-align: left;">6</td>
<td style="text-align: left;">7</td>
<td style="text-align: left;">7</td>
<td style="text-align: left;">-663</td>
<td style="text-align: left;">10.5</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Maximo</td>
<td style="text-align: left;">-449</td>
<td style="text-align: left;">9</td>
<td style="text-align: left;">144</td>
<td style="text-align: left;">10</td>
<td style="text-align: left;">9</td>
<td style="text-align: left;">10</td>
<td style="text-align: left;">-489</td>
<td style="text-align: left;">12.4</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Media</td>
<td style="text-align: left;">-661</td>
<td style="text-align: left;">7.75</td>
<td style="text-align: left;">88.5</td>
<td style="text-align: left;">7.75</td>
<td style="text-align: left;">8.25</td>
<td style="text-align: left;">8.5</td>
<td style="text-align: left;">-572.75</td>
<td style="text-align: left;">11.22</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">Desviacion Tipica</td>
<td style="text-align: left;">133.63</td>
<td style="text-align: left;">0.83</td>
<td style="text-align: left;">34.3</td>
<td style="text-align: left;">1.48</td>
<td style="text-align: left;">0.83</td>
<td style="text-align: left;">1.12</td>
<td style="text-align: left;">79.25</td>
<td style="text-align: left;">0.71</td>
</tr>
<tr class="odd" data-grouplength="4">
<td colspan="9" style="border-bottom: 1px solid"><strong>Evaluaciones</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">A1_iPad</td>
<td style="text-align: left;">-748</td>
<td style="text-align: left;">9</td>
<td style="text-align: left;">60</td>
<td style="text-align: left;">10</td>
<td style="text-align: left;">9</td>
<td style="text-align: left;">9</td>
<td style="text-align: left;">-489</td>
<td style="text-align: left;">11</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">A2_Samsung</td>
<td style="text-align: left;">-649</td>
<td style="text-align: left;">8</td>
<td style="text-align: left;">90</td>
<td style="text-align: left;">8</td>
<td style="text-align: left;">8</td>
<td style="text-align: left;">10</td>
<td style="text-align: left;">-640</td>
<td style="text-align: left;">12.4</td>
</tr>
<tr class="even">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">A3_Xiaomi</td>
<td style="text-align: left;">-449</td>
<td style="text-align: left;">7</td>
<td style="text-align: left;">144</td>
<td style="text-align: left;">6</td>
<td style="text-align: left;">7</td>
<td style="text-align: left;">8</td>
<td style="text-align: left;">-499</td>
<td style="text-align: left;">11</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding-left: 2em;" data-indentlevel="1">A4_Surface</td>
<td style="text-align: left;">-798</td>
<td style="text-align: left;">7</td>
<td style="text-align: left;">60</td>
<td style="text-align: left;">7</td>
<td style="text-align: left;">9</td>
<td style="text-align: left;">7</td>
<td style="text-align: left;">-663</td>
<td style="text-align: left;">10.5</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Tabla de Ranking (Resultados)</p>
<p>La siguiente tabla muestra el ranking final de las alternativas. El orden se basa en el flujo neto (Phi).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar Tabla de Ranking</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>tablas_promethee<span class="sc">$</span>tabAcciones</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="lightable-paper lightable-striped caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Rango</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Phi</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Phi.mas</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Phi.menos</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A1_iPad</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.3720</td>
<td style="text-align: right;">0.4287</td>
<td style="text-align: right;">0.0567</td>
</tr>
<tr class="even">
<td style="text-align: left;">A4_Surface</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.1741</td>
<td style="text-align: right;">0.3295</td>
<td style="text-align: right;">0.1554</td>
</tr>
<tr class="odd">
<td style="text-align: left;">A2_Samsung</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.0989</td>
<td style="text-align: right;">0.2785</td>
<td style="text-align: right;">0.1796</td>
</tr>
<tr class="even">
<td style="text-align: left;">A3_Xiaomi</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">-0.6450</td>
<td style="text-align: right;">0.0380</td>
<td style="text-align: right;">0.6830</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="conclusiones-del-método-promethee-ii" class="level3">
<h3 class="anchored" data-anchor-id="conclusiones-del-método-promethee-ii">4.3. Conclusiones del Método PROMETHEE II</h3>
<p>El método PROMETHEE II nos proporciona un ranking completo de las alternativas, basado en el Flujo Neto (Phi). Este flujo se calcula como la diferencia entre el flujo positivo (Phi.mas, o las fortalezas) y el flujo negativo (Phi.menos, o las debilidades).</p>
<p>El ranking final obtenido es:</p>
<ul>
<li><p>A3_Xiaomi (Phi = 0.3845)</p></li>
<li><p>A1_iPad (Phi = 0.1604)</p></li>
<li><p>A2_Samsung (Phi = -0.1610)</p></li>
<li><p>A4_Surface (Phi = -0.3839)</p></li>
</ul>
<p>Análisis de la tabla:</p>
<p>El Ganador: A3_Xiaomi es el ganador indiscutible. Tiene el Phi.mas (fortalezas) más alto (0.5050) y el Phi.menos (debilidades) más bajo (0.1205). Esto se debe a su dominio en los criterios de Precio y Pantalla, que juntos suman casi el 60% del peso de la decisión.</p>
<p>Coincidencia con AHP: El ranking (Xiaomi &gt; iPad &gt; Samsung &gt; Surface) es idéntico al ranking obtenido con AHP.</p>
<p>Diferencias con AHP: Aunque el ranking es el mismo, las “distancias” son diferentes. En AHP, Xiaomi (42.5%) e iPad (23.5%) estaban más cerca. En PROMETHEE, la ventaja de Xiaomi (Phi=0.3845) sobre el iPad (Phi=0.1604) es mucho más pronunciada. Esto se debe a que PROMETHEE utiliza los datos reales (ej. 449€ vs 748€) y las funciones de preferencia lineales, que penalizan más las grandes diferencias que la escala 1-9 de Saaty.</p>
<p>A4_Surface: Se confirma como la peor alternativa, con el flujo neto más negativo (-0.3839), siendo la alternativa con más debilidades (Phi.menos = 0.5015).</p>
<p>Conclusión: PROMETHEE II confirma el resultado de AHP, identificando a la A3_Xiaomi como la mejor opción.</p>
</section>
</section>
<section id="conclusiones-finales-comparativa-de-métodos" class="level2">
<h2 class="anchored" data-anchor-id="conclusiones-finales-comparativa-de-métodos">5. Conclusiones Finales (Comparativa de Métodos)</h2>
<p>En este trabajo se han aplicado tres métodos de decisión multicriterio (AHP, ELECTRE I y PROMETHEE II) para resolver el problema de la “Elección de la mejor tablet para el estudio”.</p>
<section id="justificación-de-las-diferencias-entre-métodos" class="level3">
<h3 class="anchored" data-anchor-id="justificación-de-las-diferencias-entre-métodos">5.1 Justificación de las Diferencias entre Métodos</h3>
<p>Tal como solicita la evaluación, el análisis de los tres métodos revela diferencias y similitudes clave.</p>
<section id="consistencia-en-la-peor-alternativa" class="level4">
<h4 class="anchored" data-anchor-id="consistencia-en-la-peor-alternativa">5.1.1. Consistencia en la Peor Alternativa</h4>
<p>Los tres métodos son <strong>unánimes</strong> en identificar a la <code>A4_Surface</code> como la peor alternativa.</p>
<ul>
<li><strong>AHP y PROMETHEE</strong> la sitúan última en el ranking.</li>
<li><strong>ELECTRE I</strong> la elimina en la primera iteración por ser dominada.</li>
</ul>
</section>
<section id="coincidencia-en-métodos-compensatorios-ahp-vs.-promethee" class="level4">
<h4 class="anchored" data-anchor-id="coincidencia-en-métodos-compensatorios-ahp-vs.-promethee">5.1.2. Coincidencia en Métodos Compensatorios (AHP vs.&nbsp;PROMETHEE)</h4>
<p>Tanto AHP como PROMETHEE II son métodos <strong>compensatorios</strong>. Esto significa que una puntuación muy alta en un criterio importante (como el <code>Precio</code> de Xiaomi) puede “compensar” puntuaciones bajas en otros (como <code>Software</code>).</p>
<p>Ambos métodos llegan <strong>exactamente al mismo ranking</strong> (Xiaomi &gt; iPad &gt; Samsung &gt; Surface). Esto refuerza la validez de la conclusión, ya que el resultado se mantiene usando dos lógicas de cálculo distintas (matrices de Saaty vs.&nbsp;funciones de preferencia).</p>
</section>
<section id="el-caso-de-electre-i-incomparabilidad" class="level4">
<h4 class="anchored" data-anchor-id="el-caso-de-electre-i-incomparabilidad">5.1.3. El Caso de ELECTRE I (Incomparabilidad)</h4>
<p>Aquí radica la diferencia fundamental: <strong>AHP y PROMETHEE</strong> fuerzan un ranking completo. <strong>ELECTRE I</strong> (un método de superación <strong>no-compensatorio</strong>) es el único que respeta la incomparabilidad.</p>
<p>ELECTRE concluye que <code>A1_iPad</code>, <code>A2_Samsung</code> y <code>A3_Xiaomi</code> forman un “núcleo” de buenas soluciones. Esto se debe a que existen fuertes conflictos que los vetos (umbrales de discordancia) impiden resolver: * El <code>A1_iPad</code> es vetado por la <code>A3_Xiaomi</code> en <code>Precio</code>. La <code>A3_Xiaomi</code> es vetada por el <code>A1_iPad</code> en <code>Software</code> y <code>Lápiz</code>.</p>
<p>Al no poder superarse mutuamente, el método los declara <strong>incomparables</strong>.</p>
</section>
</section>
<section id="conclusión-final" class="level3">
<h3 class="anchored" data-anchor-id="conclusión-final">5.2. Conclusión Final</h3>
<p>No existe un “mejor método”, sino que cada uno aporta una visión diferente:</p>
<ul>
<li><p>Si el decisor está dispuesto a aceptar compensaciones (es decir, que un precio excelente compense un ecosistema de apps regular), los métodos AHP y PROMETHEE II recomiendan claramente la A3_Xiaomi.</p></li>
<li><p>Si el decisor es más estricto y no acepta compensaciones (es decir, una tablet debe tener buen precio Y buen software, sin vetos), el método ELECTRE I le presenta un conjunto de 3 finalistas (iPad, Samsung, Xiaomi) entre los cuales la decisión final sigue siendo subjetiva.</p></li>
</ul>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>